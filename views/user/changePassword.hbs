<!-- LOADER -->
<div id="loader">
    <div class="position-center-center">
        <div class="ldr"></div>
    </div>
</div>
<!--======= SUB BANNER =========-->
<section class="sub-bnr" data-stellar-background-ratio="0.5">

</section>
<section style="margin-top:50px ;" class="container">
    <div class="row">
        <div class="col-lg-4">
            <div class="card mb-4">

            </div>

        </div>
        <div class="col-lg-8 container">
            <div class="card mb-4">
                <div class="card-body">
                    <form action="/changepassword" method="post">
                        <div class="row">
                            <input type="hidden" name="UserId" value="{{loggedUser._id}}">

                            <div class="col-sm-3">
                                <p class="mb-0">CURRENT PASSWORD</p>
                            </div>
                            <div class="col-sm-9">
                                <input type="password" name="Currentpassword">
                                {{#if changePassworderr1}}
                                <p class="text-danger">{{changePassworderr1}}</p>
                                {{/if}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">NEW PASSWORD</p>
                            </div>
                            <div class="col-sm-9">
                                <input type="password" name="Newpassword" id="password" onkeyup="validatePassword()">

                                <span id="password-error" class="text-danger my-auto"></span>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0">CONFIRM PASSWORD</p>
                            </div>
                            <div class="col-sm-9">
                                <input type="password" name="Confirmpassword" id="confirmPassword" onkeyup="validateConfirmPassword()">

                                <span id="confirmPassword-error" class="text-danger my-auto"></span>
                            </div>
                        </div>
                        <hr>


                        <div class="row">
                            <div class="col-sm-3">
                                <p class="mb-0"></p>
                            </div>
                            <div class="col-sm-9">
                                <input type="submit" value="Save" class="btn" onclick="return validateForm()">
                                <span id="submit-error" class="text-danger"></span>
                            </div>
                        </div>
                        <hr>
                    </form>
                </div>
            </div>

        </div>
    </div>
</section>
<script>
    var passwordError = document.getElementById('password-error')
    var confirmPasswordError = document.getElementById('confirmPassword-error')
    var submitError = document.getElementById('submit-error');
    
    function validatePassword() {
      var password = document.getElementById('password').value;

      if (password.length == 0) {
        passwordError.innerHTML = "Password is required";
        return false;

      }
      if (password.length < 3) {
        passwordError.innerHTML = "Password must be atleast 3 characters ";
        return false;
      }

      passwordError.innerHTML = ''
      return true

    }
    function validateConfirmPassword() {
      var password = document.getElementById('password').value
      var confirmPassword = document.getElementById('confirmPassword').value
      if (password != confirmPassword) {
        confirmPasswordError.innerHTML = "Please enter same password"
        return false
      }
      confirmPasswordError.innerHTML =''
      return true
    }
     function validateForm() {


      if ( !validatePassword() || !validateConfirmPassword()) {
        submitError.innerHTML = 'Please fill the form properly';
        return false;
      }
    }
</script>